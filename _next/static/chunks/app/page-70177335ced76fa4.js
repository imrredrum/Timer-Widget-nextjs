(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{758:(e,t,r)=>{Promise.resolve().then(r.bind(r,1631))},1631:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>G});var n=r(5155),s=r(9204),i=r(1331),l=r(5236),o=r(178),a=r(9438);let u=e=>{let{mode:t,onChange:r}=e;return(0,n.jsxs)(l.A,{value:t,onChange:(e,t)=>r(t),variant:"fullWidth",sx:{width:1,[".".concat(o.A.root)]:{minHeight:48}},children:[(0,n.jsx)(a.A,{icon:(0,n.jsx)(s.A,{}),iconPosition:"start",label:"Timer",value:"timer"}),(0,n.jsx)(a.A,{icon:(0,n.jsx)(i.A,{}),iconPosition:"start",label:"Stopwatch",value:"stopwatch"})]})};var c=r(6379),d=r(4447),m=r(1109),h=r(1030),x=r(6490),f=r(8098),v=r(215),S=r(4233),p=r(8126),j=r(6801),A=r(4146);let g=e=>{let{actions:t,children:r}=e,{isFullscreen:s,onToggle:i}=(0,d.H)();return(0,n.jsxs)(h.A,{alignItems:"stretch",sx:{flexGrow:1,[".".concat(x.A.root)]:{flexGrow:1,mt:"-1px",border:"1px solid",borderColor:"divider",borderLeft:"none",borderRight:"none",display:"flex",justifyContent:s?"center":"flex-start",alignItems:"center"},[".".concat(f.A.root)]:{p:2,[".".concat(v.A.root)]:{minWidth:72,borderRadius:.5,py:.25}},[".".concat(f.A.spacing)]:{gap:1}},children:[(0,n.jsx)(S.A,{children:r}),(0,n.jsxs)(p.A,{children:[t,(0,n.jsx)(j.A,{flexGrow:1}),(0,n.jsx)(A.A,{sx:{p:.25},children:(0,n.jsx)(m.A,{onClick:i})})]})]})};var b=r(6634);function w(e){return{hours:Math.floor(e/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3/10)}}var C=r(5358);let P=()=>{let{isFullscreen:e}=(0,d.H)(),{stored:t}=(0,b.I)(e=>e),r=w(t);return(0,n.jsxs)(h.A,{direction:"row",spacing:e?2:1.5,px:1.5,display:"inline-flex",alignItems:"baseline",sx:{borderBottom:1,borderColor:"transparent"},children:[!!r.hours&&(0,n.jsxs)(h.A,{direction:"row",alignItems:"baseline",children:[(0,n.jsx)(C.A,{fontSize:e?"6.25rem":"3rem",children:r.hours.toString()}),(0,n.jsx)(C.A,{fontSize:e?"3.125rem":"1.5rem",children:"h"})]}),(!!r.hours||!!r.minutes)&&(0,n.jsxs)(h.A,{direction:"row",alignItems:"baseline",children:[(0,n.jsx)(C.A,{fontSize:e?"6.25rem":"3rem",children:r.hours?r.minutes.toString().padStart(2,"0"):r.minutes.toString()}),(0,n.jsx)(C.A,{fontSize:e?"3.125rem":"1.5rem",children:"m"})]}),(0,n.jsxs)(h.A,{direction:"row",alignItems:"baseline",children:[(0,n.jsx)(C.A,{fontSize:e?"6.25rem":"3rem",children:r.minutes?r.seconds.toString().padStart(2,"0"):r.seconds.toString()}),(0,n.jsx)(C.A,{fontSize:e?"3.125rem":"1.5rem",children:"s"})]}),(0,n.jsx)(C.A,{fontSize:e?"3.125rem":"1.5rem",children:r.milliseconds.toString().padStart(2,"0")})]})},T=()=>{let{startTime:e,isPaused:t,start:r,pause:s,reset:i}=(0,b.I)(e=>e);return(0,n.jsx)(g,{actions:[e&&!t?(0,n.jsx)(c.A,{size:"small",variant:"outlined",disableElevation:!0,onClick:s,children:"Pause"},"pause"):(0,n.jsx)(c.A,{size:"small",variant:"contained",disableElevation:!0,onClick:r,children:"Start"},"start"),(0,n.jsx)(c.A,{size:"small",variant:"outlined",disableElevation:!0,onClick:i,children:"Reset"},"reset")],children:(0,n.jsx)(P,{})})};var z=r(2115),E=r(3818),k=r(6106);let D=e=>{let{onComplete:t}=e,{isFullscreen:r}=(0,d.H)(),{endTime:s,remain:i}=(0,E.G)(e=>e),[l,o]=(0,z.useState)("00:00:00"),a=(0,z.useRef)(!1);(0,z.useEffect)(()=>{o(function(e){let t=w(e);return"".concat(t.hours.toString().padStart(2,"0"),":").concat(t.minutes.toString().padStart(2,"0"),":").concat(t.seconds.toString().padStart(2,"0"))}(s?i+1e3:i))},[s,i]);let u=()=>{t(a.current?1e3*l.split(":").reduce((e,t,r)=>e+=Number(t)*Math.pow(60,2-r),0):void 0)};return(0,n.jsx)(k.A,{autoFocus:!0,variant:"standard",value:l,onChange:e=>{a.current=!0,o(function(e){let t=e.replace(/\D/g,"");for(t.length>6&&(t=t.slice(-6));t.length<6;)t="0"+t;let r=t.slice(0,2),n=t.slice(2,4),s=t.slice(4,6);return"".concat(r,":").concat(n,":").concat(s)}(e.target.value))},onBlur:()=>{u()},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),u())},slotProps:{input:{sx:{fontSize:r?"6.25rem":"3rem",pb:"1px"}},htmlInput:{inputMode:"numeric",pattern:"[0-9]*",sx:{px:1,py:0,lineHeight:1.5,width:r?"24.125rem":"11.5rem",height:"unset"}}}})},I=e=>{let{onClick:t}=e,{isFullscreen:r}=(0,d.H)(),{endTime:s,remain:i}=(0,E.G)(e=>e),l=w(s?i+1e3:i);return(0,n.jsxs)(h.A,{direction:"row",spacing:r?2:1,px:1.5,display:"inline-flex",sx:{borderBottomWidth:1,borderBottomStyle:"inset",borderColor:"divider"},onClick:t,children:[!!l.hours&&(0,n.jsxs)(h.A,{direction:"row",alignItems:"baseline",children:[(0,n.jsx)(C.A,{fontSize:r?"6.25rem":"3rem",children:l.hours.toString()}),(0,n.jsx)(C.A,{fontSize:r?"3.125rem":"1.5rem",children:"h"})]}),(!!l.hours||!!l.minutes)&&(0,n.jsxs)(h.A,{direction:"row",alignItems:"baseline",children:[(0,n.jsx)(C.A,{fontSize:r?"6.25rem":"3rem",children:l.hours?l.minutes.toString().padStart(2,"0"):l.minutes.toString()}),(0,n.jsx)(C.A,{fontSize:r?"3.125rem":"1.5rem",children:"m"})]}),(0,n.jsxs)(h.A,{direction:"row",alignItems:"baseline",children:[(0,n.jsx)(C.A,{fontSize:r?"6.25rem":"3rem",children:l.minutes?l.seconds.toString().padStart(2,"0"):l.seconds.toString()}),(0,n.jsx)(C.A,{fontSize:r?"3.125rem":"1.5rem",children:"s"})]})]})},y=()=>{let{endTime:e,isPaused:t,updateRemain:r,start:s,pause:i,reset:l}=(0,E.G)(e=>e),[o,a]=(0,z.useState)(!1);return(0,n.jsx)(g,{actions:[e&&!t?(0,n.jsx)(c.A,{size:"small",variant:"outlined",disableElevation:!0,onClick:i,children:"Pause"},"pause"):(0,n.jsx)(c.A,{size:"small",variant:"contained",disableElevation:!0,onClick:s,children:"Start"},"start"),(0,n.jsx)(c.A,{size:"small",variant:"outlined",disableElevation:!0,onClick:l,children:"Reset"},"reset")],children:o?(0,n.jsx)(D,{onComplete:e=>{e&&r(e),a(!1)}}):(0,n.jsx)(I,{onClick:()=>{a(!0),t||i()}})})};var R=r(1158),H=r(2160),F=r(7144);function G(){let{targetRef:e}=(0,d.H)(),[t,r]=(0,z.useState)("timer");return(0,n.jsx)(R.A,{maxWidth:"sm",sx:{py:3,[".".concat(H.A.root)]:{borderRadius:2,display:"flex",flexDirection:"column"}},children:(0,n.jsxs)(F.A,{variant:"outlined",ref:e,children:[(0,n.jsx)(p.A,{sx:{p:0},children:(0,n.jsx)(u,{mode:t,onChange:e=>{r(e)}})}),"timer"===t&&(0,n.jsx)(y,{}),"stopwatch"===t&&(0,n.jsx)(T,{})]})})}},3818:(e,t,r)=>{"use strict";r.d(t,{TimerStoreProvider:()=>m,G:()=>h});var n=r(5155),s=r(5047),i=r(2421);let l=()=>({endTime:null,count:3e5,remain:3e5,isPaused:!1}),o={endTime:null,count:3e5,remain:0,isPaused:!1},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.y)()(t=>({...e,updateRemain:r=>t({...e,count:r,remain:r}),start:()=>t(e=>({endTime:new Date(Date.now()+e.remain),isPaused:!1})),pause:()=>t(e=>({remain:e.endTime?e.endTime.getTime()-Date.now():e.remain,isPaused:!0})),reset:()=>t(t=>({...e,count:t.count,remain:t.count}))}))};var u=r(2115),c=r(5521);let d=(0,u.createContext)(null),m=e=>{let{children:t}=e,r=(0,u.useRef)(null),i=(0,u.useCallback)(()=>{var e;if(null===r.current)return;let t=(null!==(e=r.current.getState().endTime)&&void 0!==e?e:new Date).getTime()-Date.now();if(t>0){r.current.setState({remain:t});return}r.current.setState({endTime:null,remain:0}),r.current.getState().pause()},[]),{pause:o,resume:c}=(0,s.A)(i,1e3);return r.current||(r.current=a(l()),r.current.setState(e=>({pause:()=>{o(),e.pause()},start:()=>{c(),e.start()},reset:()=>{o(),e.reset()}}))),(0,n.jsx)(d.Provider,{value:r.current,children:t})},h=e=>{let t=(0,u.useContext)(d);if(!t)throw Error("useTimerStore must be used within TimerStoreProvider");return(0,c.P)(t,e)}},4447:(e,t,r)=>{"use strict";r.d(t,{FullscreenProvider:()=>l,H:()=>o});var n=r(5155),s=r(2115);let i=(0,s.createContext)(null),l=e=>{let{children:t}=e,[r,l]=(0,s.useState)(!1),o=(0,s.useRef)(null),a=(0,s.useCallback)(()=>{!document.fullscreenElement&&o.current?o.current.requestFullscreen():document.exitFullscreen&&document.exitFullscreen()},[]);return(0,s.useEffect)(()=>{let e=new AbortController,t=e.signal;return document.addEventListener("fullscreenchange",()=>{l(!!document.fullscreenElement)},{signal:t}),()=>{e.abort()}},[]),(0,n.jsx)(i.Provider,{value:{targetRef:o,isFullscreen:r,onToggle:a},children:t})},o=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useFullscreen must be used within FullscreenProvider");return e}},5047:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2115);let s=function(e,t){let r=(0,n.useRef)(null),[s,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{r.current=e},[e]),(0,n.useEffect)(()=>{if(!t||t<=0||!s)return;function e(){r.current&&r.current()}e();let n=setInterval(e,t);return()=>clearInterval(n)},[t,s]),{pause:(0,n.useCallback)(()=>i(!1),[]),resume:(0,n.useCallback)(()=>i(!0),[])}}},6634:(e,t,r)=>{"use strict";r.d(t,{StopwatchStoreProvider:()=>m,I:()=>h});var n=r(5155),s=r(5047),i=r(2421);let l=()=>({startTime:null,stored:0,isPaused:!1}),o={startTime:null,stored:0,isPaused:!1},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.y)()(t=>({...e,start:()=>t({startTime:new Date,isPaused:!1}),pause:()=>t(e=>{var t,r;return{stored:Date.now()-(null!==(r=null===(t=e.startTime)||void 0===t?void 0:t.getTime())&&void 0!==r?r:Date.now())+e.stored,isPaused:!0}}),reset:()=>t(e)}))};var u=r(2115),c=r(5521);let d=(0,u.createContext)(null),m=e=>{let{children:t}=e,r=(0,u.useRef)(null),i=(0,u.useCallback)(()=>{var e;if(null===r.current)return;let t=Date.now()-(null!==(e=r.current.getState().startTime)&&void 0!==e?e:new Date).getTime();t<=0||r.current.setState(e=>({stored:e.stored+t,startTime:new Date}))},[]),{pause:o,resume:c}=(0,s.A)(i,10);return r.current||(r.current=a(l()),r.current.setState(e=>({pause:()=>{o(),e.pause()},start:()=>{c(),e.start()},reset:()=>{o(),e.reset()}}))),(0,n.jsx)(d.Provider,{value:r.current,children:t})},h=e=>{let t=(0,u.useContext)(d);if(!t)throw Error("useStopwatchStore must be used within StopwatchStoreProvider");return(0,c.P)(t,e)}}},e=>{var t=t=>e(e.s=t);e.O(0,[406,228,441,684,358],()=>t(758)),_N_E=e.O()}]);